/*
 ============================================================================
 Name        : bitwiseTests.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>

int main(void) {

	char secret[112] = "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
	char plain[112] = "\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00";
	//"\x01\x02\x03\x04\x05\x06\x07\x08\x09\x0a\x0b\x0c\x0d\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x11\x11";//"\x01\x01\x01\x01\x01\x01\x01\x01";
	int counter = 0;
	unsigned int * p;
	unsigned int * c;



	printf("Plain\n");
	for(int i=0;i<112;i+=1){
		printf("%x", plain[i]);
	}

	for(int i=0;i<112;i+=4){

		p =  (unsigned int *) &(plain[i]);
		c =  (unsigned int *) &(secret[i]);

		*c = (*p ^ 0Xffffffff);
		*c =
				(*c & 0xff000000) >> 24 |
				(*c & 0x00ff0000) >> 8  |
				(*c & 0x0000ff00) << 8  |
				(*c & 0x000000ff) << 24;

		*c ^= 0xdeadbeef;

	}

	printf("\nEncrypted");
	printf("\n");
	for(int i=0;i<112;i+=1){
		counter++;
		printf("%x", secret[i]);
	}



	for(int i=0;i<112;i+=4){

		c =  (unsigned int *) &(secret[i]);

		*c ^= 0xdeadbeef;

		//		*c =
		//				(*c << 24) | 0x00ffffff;  //Kinda works

		*c =
				((*c >> 24) | 0xffffff00) &
				((*c >> 8)  | 0xffff00ff) &
				((*c << 8)  | 0xff00ffff) &
				((*c << 24) | 0x00ffffff);

		*c = (*c ^ 0Xffffffff);

	}

	printf("\n");
	printf("Decrypted\n");
	for(int i=0;i<112;i+=1){
		counter++;
		printf("%x", secret[i]);
	}

	char secret2[112] = "\x7c\x61\x13\x06\x7f\x61\x26\x4e\x71\x29\x72\x47\x7e\x28\x39\x42\x63\x28\x72\x46\x71\x2d\x22\x01\x77\x2f\x3b\x58\x64\x28\x25\x01\x64\x2e\x72\x49\x30\x33\x37\x49\x60\x2e\x37\x51\x30\x6d\x37\x4d\x30\x34\x3d\x58\x67\x2e\x3c\x4a\x75\x26\x72\x0d\x7e\x28\x26\x55\x78\x35\x72\x46\x64\x61\x3f\x44\x7f\x25\x72\x4e\x62\x35\x21\x01\x75\x26\x3c\x40\x79\x29\x26\x01\x3e\x32\x35\x4f\x30\x6c\x72\x06\x66\x24\x26\x72\x7f\x16\x72\x44\x71\x28\x3c\x5b\x10\x41\x52\x4a";

	printf("\n\n\nEncrypted Text");
	printf("\n");
	for(int i=0;i<112;i+=1){
		counter++;
		printf("%x", secret2[i]);
	}

	for(int i=0;i<112;i+=4){

		c =  (unsigned int *) &(secret2[i]);

		*c ^= 0xdeadbeef;

		//		*c =
		//				(*c << 24) | 0x00ffffff;  //Kinda works

		*c =
				((*c >> 24) | 0xffffff00) &
				((*c >> 8)  | 0xffff00ff) &
				((*c << 8)  | 0xff00ffff) &
				((*c << 24) | 0x00ffffff);

		*c = (*c ^ 0Xffffffff);

	}


	printf("\n\nDecrypted Text");
	printf("\n");
	for(int i=0;i<112;i+=1){
		counter++;
		printf("%x", secret2[i]);
	}

	printf("\n\nDecrypted Text Ascii");
	printf("\n");
	for(int i=0;i<112;i+=1){
		counter++;
		printf("%c", secret2[i]);
	}
	return 0;
}
